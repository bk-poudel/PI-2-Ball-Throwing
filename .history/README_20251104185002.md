# PI-2-Ball-Throwing
Ball throwing simulation for a Franka Research 3 (FR3) robotic arm using path-integral control
This repository contains a MuJoCo-based simulation for throwing a ball with a Franka Research 3 (FR3) robotic arm. The code demonstrates trajectory generation and control using path-integral methods and includes the robot/model assets required to run the simulation locally.
## Contents
- `Throwing_a_ball.py` — Main script that runs the ball-throwing experiment.
- `MujocoSim.py` — Utilities to load and run MuJoCo simulations used by the project.
- `debug.py` — Small debugging helpers / quick tests.
- `assets/` — MuJoCo assets, robot models, meshes and environment XMLs used by the simulation.
## Features
- Simulation of a Franka Research 3 (FR3) arm interacting with a ball.
- Uses MuJoCo physics for realistic dynamics.
- Path-integral style controllers for trajectory optimization.
## Prerequisites
You will need:
- Python 3.8+ (virtualenv recommended)
- A MuJoCo installation and a Python MuJoCo binding (for example `mujoco`, `mujoco-py`, or the newer `mujoco` Python package). The exact binding this repo expects may vary by system; adjust the instructions below to match your setup.
- Common Python packages: numpy and any other dependencies your chosen MuJoCo binding requires.
Note: MuJoCo requires a license key and correct environment variables / installation. If you don't have MuJoCo installed yet, follow the official instructions at [mujoco.org](https://mujoco.org/) (or the binding's README) and confirm you can run a simple MuJoCo example before continuing.
## Quick setup
1. Create and activate a virtual environment:
```bash
python3 -m venv .venv
source .venv/bin/activate
pip install --upgrade pip
```
1. Install your preferred MuJoCo Python bindings and common deps. Example (adjust for your binding):
```bash
# example for mujoco-py (if you use it)
pip install -U numpy mujoco-py
# or for the newer mujoco Python bindings
pip install -U numpy mujoco
```
1. Ensure MuJoCo assets and license/key are accessible to the binding (set environment variables as required by your binding). For example, some setups require `MUJOCO_PY_MUJOCO_PATH`, `MUJOCO_GL`, or `MUJOCO_KEY_PATH` to be set.
## Running the simulation
After installing dependencies and configuring MuJoCo, run the main experiment:
```bash
python3 Throwing_a_ball.py
```
Or run the simulator utility directly for testing:
```bash
python3 MujocoSim.py
```
If your system has no display (headless), consult your MuJoCo binding documentation for offscreen rendering (GLFW, EGL, or OSMesa options).
## Project structure
```text
PI-2-Ball-Throwing/
├─ Throwing_a_ball.py        # main experiment
├─ MujocoSim.py              # simulation utilities
├─ debug.py                  # development helpers
├─ assets/                   # mujoco xmls, meshes and model files
│  ├─ fr3_*.xml
│  └─ meshes/
└─ README.md                 # this file
```
## Assets
All MuJoCo XMLs, meshes and related files are stored under `assets/`. If you modify or add models, keep the XMLs and referenced meshes together and update the loader code in `MujocoSim.py` accordingly.
## Troubleshooting
- MuJoCo import errors: confirm your Python binding is installed and points to the correct MuJoCo installation directory.
- Display / GLFW errors: try running with an offscreen renderer or set `MUJOCO_GL=egl` / `MUJOCO_GL=osmesa` depending on your environment.
- Missing assets: make sure the `assets/` folder is present and paths inside XMLs point to existing mesh files.
